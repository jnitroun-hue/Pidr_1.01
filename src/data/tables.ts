/**
 * üé≤ TABLE DATA
 * –î–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç–æ–ª–æ–≤
 */

import { GameTable, TableCollection, TableShopCategory } from '@/types/tables';

export const GAME_TABLES: GameTable[] = [
  // COMMON TABLES
  {
    id: 'classic-green',
    name: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∑–µ–ª–µ–Ω—ã–π',
    description: '–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–∫–µ—Ä–Ω—ã–π —Å—Ç–æ–ª —Å –∑–µ–ª–µ–Ω—ã–º —Å—É–∫–Ω–æ–º',
    style: 'classic',
    rarity: 'common',
    price: 0,
    currency: 'coins',
    isUnlocked: true,
    isPurchased: true,
    isEquipped: true,
    stats: {
      luck: 0,
      prestige: 1,
      winBonus: 0
    },
    metadata: {
      createdAt: '2024-01-01T00:00:00Z',
      updatedAt: '2024-01-01T00:00:00Z',
      category: 'starter',
      tags: ['classic', 'free', 'starter']
    }
  },
  {
    id: 'wooden-tavern',
    name: '–î–µ—Ä–µ–≤—è–Ω–Ω—ã–π —Ç—Ä–∞–∫—Ç–∏—Ä',
    description: '–£—é—Ç–Ω—ã–π –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–π —Å—Ç–æ–ª –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Ç—Ä–∞–∫—Ç–∏—Ä–∞',
    style: 'classic',
    rarity: 'common',
    price: 1000,
    currency: 'coins',
    isUnlocked: true,
    isPurchased: false,
    isEquipped: false,
    stats: {
      luck: 2,
      prestige: 3,
      winBonus: 5
    },
    metadata: {
      createdAt: '2024-01-01T00:00:00Z',
      updatedAt: '2024-01-01T00:00:00Z',
      category: 'classic',
      tags: ['wood', 'tavern', 'cozy']
    }
  },

  // RARE TABLES
  {
    id: 'luxury-casino',
    name: '–†–æ—Å–∫–æ—à–Ω–æ–µ –∫–∞–∑–∏–Ω–æ',
    description: '–ü—Ä–µ–º–∏—É–º —Å—Ç–æ–ª —Å –∫–æ–∂–∞–Ω–æ–π –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å—é –∏ –∑–æ–ª–æ—Ç—ã–º–∏ –¥–µ—Ç–∞–ª—è–º–∏',
    style: 'luxury',
    rarity: 'rare',
    price: 5000,
    currency: 'coins',
    isUnlocked: true,
    isPurchased: false,
    isEquipped: false,
    stats: {
      luck: 5,
      prestige: 10,
      winBonus: 15
    },
    effects: {
      particleEffects: true,
      soundEffects: ['luxury_ambient'],
      animations: ['gold_shimmer']
    },
    metadata: {
      createdAt: '2024-01-01T00:00:00Z',
      updatedAt: '2024-01-01T00:00:00Z',
      category: 'luxury',
      tags: ['luxury', 'casino', 'premium', 'leather', 'gold']
    }
  },
  {
    id: 'neon-cyberpunk',
    name: '–ù–µ–æ–Ω–æ–≤—ã–π –∫–∏–±–µ—Ä–ø–∞–Ω–∫',
    description: '–§—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–æ–ª —Å –Ω–µ–æ–Ω–æ–≤–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π',
    style: 'neon',
    rarity: 'rare',
    price: 50,
    currency: 'gems',
    isUnlocked: true,
    isPurchased: false,
    isEquipped: false,
    stats: {
      luck: 8,
      prestige: 12,
      winBonus: 20
    },
    effects: {
      particleEffects: true,
      soundEffects: ['cyberpunk_ambient', 'neon_hum'],
      animations: ['neon_pulse', 'hologram_effects']
    },
    metadata: {
      createdAt: '2024-01-01T00:00:00Z',
      updatedAt: '2024-01-01T00:00:00Z',
      category: 'futuristic',
      tags: ['neon', 'cyberpunk', 'futuristic', 'glow']
    }
  },

  // EPIC TABLES
  {
    id: 'royal-palace',
    name: '–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∏–π –¥–≤–æ—Ä–µ—Ü',
    description: '–°—Ç–æ–ª –¥–æ—Å—Ç–æ–π–Ω—ã–π –∫–æ—Ä–æ–ª–µ–π —Å –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–º–∏ –∫–∞–º–Ω—è–º–∏',
    style: 'royal',
    rarity: 'epic',
    price: 15000,
    currency: 'coins',
    isUnlocked: false,
    isPurchased: false,
    isEquipped: false,
    stats: {
      luck: 12,
      prestige: 25,
      winBonus: 35
    },
    requirements: {
      level: 10,
      achievements: ['high_roller', 'win_streak_10']
    },
    effects: {
      particleEffects: true,
      soundEffects: ['royal_fanfare', 'crystal_chimes'],
      animations: ['crown_glow', 'jewel_sparkle', 'royal_aura']
    },
    metadata: {
      createdAt: '2024-01-01T00:00:00Z',
      updatedAt: '2024-01-01T00:00:00Z',
      category: 'royal',
      tags: ['royal', 'palace', 'jewels', 'crown', 'epic']
    }
  },
  {
    id: 'diamond-elite',
    name: '–ê–ª–º–∞–∑–Ω–∞—è —ç–ª–∏—Ç–∞',
    description: '–°–≤–µ—Ä–∫–∞—é—â–∏–π —Å—Ç–æ–ª —Å –∞–ª–º–∞–∑–Ω—ã–º–∏ –∏–Ω–∫—Ä—É—Å—Ç–∞—Ü–∏—è–º–∏',
    style: 'diamond',
    rarity: 'epic',
    price: 100,
    currency: 'gems',
    isUnlocked: false,
    isPurchased: false,
    isEquipped: false,
    stats: {
      luck: 15,
      prestige: 30,
      winBonus: 40
    },
    requirements: {
      level: 15,
      achievements: ['diamond_collector', 'millionaire']
    },
    effects: {
      particleEffects: true,
      soundEffects: ['diamond_chime', 'crystal_resonance'],
      animations: ['diamond_refraction', 'light_prism', 'sparkle_burst']
    },
    metadata: {
      createdAt: '2024-01-01T00:00:00Z',
      updatedAt: '2024-01-01T00:00:00Z',
      category: 'premium',
      tags: ['diamond', 'elite', 'crystal', 'sparkle', 'epic']
    }
  },

  // LEGENDARY TABLES
  {
    id: 'space-station',
    name: '–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–Ω—Ü–∏—è',
    description: '–°—Ç–æ–ª –Ω–∞ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–π —Å—Ç–∞–Ω—Ü–∏–∏ —Å –≤–∏–¥–æ–º –Ω–∞ –∑–≤–µ–∑–¥—ã',
    style: 'space',
    rarity: 'legendary',
    price: 500,
    currency: 'gems',
    isUnlocked: false,
    isPurchased: false,
    isEquipped: false,
    stats: {
      luck: 20,
      prestige: 50,
      winBonus: 60
    },
    requirements: {
      level: 25,
      achievements: ['space_explorer', 'cosmic_winner', 'stellar_streak']
    },
    effects: {
      particleEffects: true,
      soundEffects: ['space_ambient', 'stellar_wind', 'cosmic_hum'],
      animations: ['star_field', 'planet_rotation', 'cosmic_energy', 'warp_effect']
    },
    metadata: {
      createdAt: '2024-01-01T00:00:00Z',
      updatedAt: '2024-01-01T00:00:00Z',
      category: 'sci-fi',
      tags: ['space', 'cosmic', 'stars', 'futuristic', 'legendary']
    }
  },

  // MYTHIC TABLES
  {
    id: 'dragons-lair',
    name: '–õ–æ–≥–æ–≤–æ –¥—Ä–∞–∫–æ–Ω–∞',
    description: '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π —Å—Ç–æ–ª –≤ —Å–æ–∫—Ä–æ–≤–∏—â–Ω–∏—Ü–µ –¥—Ä–µ–≤–Ω–µ–≥–æ –¥—Ä–∞–∫–æ–Ω–∞',
    style: 'fantasy',
    rarity: 'mythic',
    price: 1000,
    currency: 'gems',
    isUnlocked: false,
    isPurchased: false,
    isEquipped: false,
    stats: {
      luck: 30,
      prestige: 100,
      winBonus: 100
    },
    requirements: {
      level: 50,
      achievements: ['dragon_slayer', 'mythic_collector', 'legend_status'],
      previousTables: ['royal-palace', 'diamond-elite', 'space-station']
    },
    effects: {
      particleEffects: true,
      soundEffects: ['dragon_roar', 'fire_crackle', 'treasure_jingle', 'magic_whispers'],
      animations: ['dragon_breath', 'fire_aura', 'treasure_glow', 'magic_runes', 'mythic_power']
    },
    metadata: {
      createdAt: '2024-01-01T00:00:00Z',
      updatedAt: '2024-01-01T00:00:00Z',
      category: 'mythic',
      tags: ['dragon', 'fantasy', 'treasure', 'magic', 'mythic', 'ultimate']
    }
  }
];

export const TABLE_COLLECTIONS: TableCollection[] = [
  {
    id: 'starter-collection',
    name: '–ö–æ–ª–ª–µ–∫—Ü–∏—è –Ω–æ–≤–∏—á–∫–∞',
    description: '–°–æ–±–µ—Ä–∏—Ç–µ –≤—Å–µ –±–∞–∑–æ–≤—ã–µ —Å—Ç–æ–ª—ã',
    tables: ['classic-green', 'wooden-tavern'],
    reward: {
      type: 'coins',
      amount: 2000
    },
    isCompleted: false
  },
  {
    id: 'luxury-collection',
    name: '–†–æ—Å–∫–æ—à–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è',
    description: '–°–æ–±–µ—Ä–∏—Ç–µ –≤—Å–µ –ø—Ä–µ–º–∏—É–º —Å—Ç–æ–ª—ã',
    tables: ['luxury-casino', 'royal-palace', 'diamond-elite'],
    reward: {
      type: 'gems',
      amount: 50
    },
    isCompleted: false
  },
  {
    id: 'futuristic-collection',
    name: '–§—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è',
    description: '–°–æ–±–µ—Ä–∏—Ç–µ –≤—Å–µ —Ñ—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç–æ–ª—ã',
    tables: ['neon-cyberpunk', 'space-station'],
    reward: {
      type: 'table',
      itemId: 'time-machine'
    },
    isCompleted: false
  },
  {
    id: 'master-collection',
    name: '–ö–æ–ª–ª–µ–∫—Ü–∏—è –º–∞—Å—Ç–µ—Ä–∞',
    description: '–°–æ–±–µ—Ä–∏—Ç–µ –í–°–ï —Å—Ç–æ–ª—ã –≤ –∏–≥—Ä–µ',
    tables: GAME_TABLES.map(table => table.id),
    reward: {
      type: 'achievement',
      itemId: 'table_master'
    },
    isCompleted: false
  }
];

export const SHOP_CATEGORIES: TableShopCategory[] = [
  {
    id: 'featured',
    name: '–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ',
    icon: '‚≠ê',
    description: '–õ—É—á—à–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —ç—Ç–æ–π –Ω–µ–¥–µ–ª–∏',
    tables: ['luxury-casino', 'neon-cyberpunk', 'royal-palace'],
    isNew: true,
    discount: {
      percentage: 20,
      endDate: '2024-12-31T23:59:59Z'
    }
  },
  {
    id: 'classic',
    name: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ',
    icon: 'üé≤',
    description: '–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ —Å—Ç–æ–ª—ã',
    tables: ['classic-green', 'wooden-tavern']
  },
  {
    id: 'luxury',
    name: '–†–æ—Å–∫–æ—à–Ω—ã–µ',
    icon: 'üíé',
    description: '–ü—Ä–µ–º–∏—É–º —Å—Ç–æ–ª—ã –¥–ª—è VIP –∏–≥—Ä–æ–∫–æ–≤',
    tables: ['luxury-casino', 'royal-palace', 'diamond-elite']
  },
  {
    id: 'futuristic',
    name: '–§—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ',
    icon: 'üöÄ',
    description: '–°—Ç–æ–ª—ã –∏–∑ –±—É–¥—É—â–µ–≥–æ',
    tables: ['neon-cyberpunk', 'space-station']
  },
  {
    id: 'mythic',
    name: '–ú–∏—Ñ–∏—á–µ—Å–∫–∏–µ',
    icon: 'üêâ',
    description: '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ —Å—Ç–æ–ª—ã –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö',
    tables: ['dragons-lair'],
    isNew: true
  }
];

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
export const getTableById = (id: string): GameTable | undefined => {
  return GAME_TABLES.find(table => table.id === id);
};

export const getTablesByRarity = (rarity: GameTable['rarity']): GameTable[] => {
  return GAME_TABLES.filter(table => table.rarity === rarity);
};

export const getTablesByCategory = (categoryId: string): GameTable[] => {
  const category = SHOP_CATEGORIES.find(cat => cat.id === categoryId);
  if (!category) return [];
  
  return category.tables.map(tableId => getTableById(tableId)).filter(Boolean) as GameTable[];
};

export const calculateTablePrice = (table: GameTable, hasDiscount: boolean = false): number => {
  let price = table.price;
  
  if (hasDiscount) {
    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–∫–∏–¥–∫—É –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ featured
    const featuredCategory = SHOP_CATEGORIES.find(cat => cat.id === 'featured');
    if (featuredCategory?.discount && featuredCategory.tables.includes(table.id)) {
      price = Math.floor(price * (1 - featuredCategory.discount.percentage / 100));
    }
  }
  
  return price;
};
